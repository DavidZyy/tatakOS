
[37;1mCFLAGS = -I/home/yztz/tatakOS/src/platform/k210/include  -DK210 -DDEBUG -Wno-unused-function -Wall -Werror -O0 -fno-omit-frame-pointer -ggdb -mcmodel=medany -march=rv64g -ffreestanding -fno-common -nostdlib -mno-relax -fno-stack-protector -fno-pie -no-pie -I/home/yztz/tatakOS/include -I/home/yztz/tatakOS/src/include[0m

CC		sleeplock.c
CC		spinlock.c
CC		plic.c
CC		disk.c
CC		bio.c
CC		file.c
CC		fs.c
CC		fat32.c
CC		pipe.c
CC		pselect.c
CC		mpage.c
CC		fs_writeback.c
CC		console.c
CC		nulldev.c
CC		zerodev.c
CC		exec.c
CC		proc.c
CC		scavenger.c
CC		signal.c
CC		syscall.c
CC		sysfile.c
CC		sysproc.c
CC		sys.c
CC		thread_group.c
CC		trap.c
CC		pagefault.c
CC		alloc.c
CC		buddy.c
CC		copy.c
CC		filemap.c
CC		io.c
CC		mmap.c
CC		page.c
CC		page-writeback.c
CC		pdflush.c
CC		slob.c
CC		swap.c
CC		trapframe.c
CC		vm.c
CC		vma.c
CC		vmscan.c
CC		socket.c
CC		dmac.c
CC		sdcard.c
CC		spi.c
CC		sysctl.c
CC		fpioa.c
CC		gpiohs.c
CC		uarths.c
CC		wdt.c
CC		k210.c
CC		radix-tree.c
CC		mmtest.c
CC		main.c
CC		panic.c
CC		printf.c
CC		profile.c
CC		riscv.c
CC		string.c
CC		utils.c
CC		futex.c
CC		fdtable.c
LD		kernel

[32;1mKERNEL BUILD SUCCESSFUL![0m

riscv64-unknown-elf-objcopy /home/yztz/tatakOS/build/kernel -S -O binary /home/yztz/tatakOS/build/kernel.bin
riscv64-unknown-elf-objcopy bootloader/sbi-k210 -S -O binary /home/yztz/tatakOS/build/k210.bin
dd if=/home/yztz/tatakOS/build/kernel.bin of=/home/yztz/tatakOS/build/k210.bin bs=128k seek=1
sudo chmod 777 /dev/ttyUSB0
/home/yztz/tatakOS/tools/kflash.py -p /dev/ttyUSB0 -b 1500000 -B dan -t /home/yztz/tatakOS/build/k210.bin
[32m[1m[INFO][0m COM Port Selected Manually:  /dev/ttyUSB0 [0m
[32m[1m[INFO][0m Default baudrate is 115200 , later it may be changed to the value you set. [0m
[32m[1m[INFO][0m Trying to Enter the ISP Mode... [0m
.
[32m[1m[INFO][0m Greeting Message Detected, Start Downloading ISP [0m
[32m[1m[INFO][0m CH340 mode [0m
Downloading ISP: |=---------------------------------------------------------------------------------------------------------------------------| 1.5% Downloading ISP: |===-------------------------------------------------------------------------------------------------------------------------| 3.1% Downloading ISP: |=====-----------------------------------------------------------------------------------------------------------------------| 4.6% Downloading ISP: |=======---------------------------------------------------------------------------------------------------------------------| 6.2% Downloading ISP: |=========-------------------------------------------------------------------------------------------------------------------| 7.7% Downloading ISP: |===========-----------------------------------------------------------------------------------------------------------------| 9.2% Downloading ISP: |=============---------------------------------------------------------------------------------------------------------------| 10.8% Downloading ISP: |===============-------------------------------------------------------------------------------------------------------------| 12.3% Downloading ISP: |=================-----------------------------------------------------------------------------------------------------------| 13.8% Downloading ISP: |===================---------------------------------------------------------------------------------------------------------| 15.4% Downloading ISP: |====================--------------------------------------------------------------------------------------------------------| 16.9% 10kiB/sDownloading ISP: |======================------------------------------------------------------------------------------------------------------| 18.5% 10kiB/sDownloading ISP: |========================----------------------------------------------------------------------------------------------------| 20.0% 10kiB/sDownloading ISP: |==========================--------------------------------------------------------------------------------------------------| 21.5% 10kiB/sDownloading ISP: |============================------------------------------------------------------------------------------------------------| 23.1% 10kiB/sDownloading ISP: |==============================----------------------------------------------------------------------------------------------| 24.6% 10kiB/sDownloading ISP: |================================--------------------------------------------------------------------------------------------| 26.2% 10kiB/sDownloading ISP: |==================================------------------------------------------------------------------------------------------| 27.7% 10kiB/sDownloading ISP: |====================================----------------------------------------------------------------------------------------| 29.2% 10kiB/sDownloading ISP: |======================================--------------------------------------------------------------------------------------| 30.8% 10kiB/sDownloading ISP: |========================================------------------------------------------------------------------------------------| 32.3% 10kiB/sDownloading ISP: |=========================================-----------------------------------------------------------------------------------| 33.8% 10kiB/sDownloading ISP: |===========================================---------------------------------------------------------------------------------| 35.4% 10kiB/sDownloading ISP: |=============================================-------------------------------------------------------------------------------| 36.9% 10kiB/sDownloading ISP: |===============================================-----------------------------------------------------------------------------| 38.5% 10kiB/sDownloading ISP: |=================================================---------------------------------------------------------------------------| 40.0% 10kiB/sDownloading ISP: |===================================================-------------------------------------------------------------------------| 41.5% 10kiB/sDownloading ISP: |=====================================================-----------------------------------------------------------------------| 43.1% 10kiB/sDownloading ISP: |=======================================================---------------------------------------------------------------------| 44.6% 10kiB/sDownloading ISP: |=========================================================-------------------------------------------------------------------| 46.2% 10kiB/sDownloading ISP: |===========================================================-----------------------------------------------------------------| 47.7% 10kiB/sDownloading ISP: |=============================================================---------------------------------------------------------------| 49.2% 10kiB/sDownloading ISP: |==============================================================--------------------------------------------------------------| 50.8% 10kiB/sDownloading ISP: |================================================================------------------------------------------------------------| 52.3% 10kiB/sDownloading ISP: |==================================================================----------------------------------------------------------| 53.8% 10kiB/sDownloading ISP: |====================================================================--------------------------------------------------------| 55.4% 10kiB/sDownloading ISP: |======================================================================------------------------------------------------------| 56.9% 10kiB/sDownloading ISP: |========================================================================----------------------------------------------------| 58.5% 10kiB/sDownloading ISP: |==========================================================================--------------------------------------------------| 60.0% 10kiB/sDownloading ISP: |============================================================================------------------------------------------------| 61.5% 10kiB/sDownloading ISP: |==============================================================================----------------------------------------------| 63.1% 10kiB/sDownloading ISP: |================================================================================--------------------------------------------| 64.6% 10kiB/sDownloading ISP: |==================================================================================------------------------------------------| 66.2% 10kiB/sDownloading ISP: |===================================================================================-----------------------------------------| 67.7% 10kiB/sDownloading ISP: |=====================================================================================---------------------------------------| 69.2% 10kiB/sDownloading ISP: |=======================================================================================-------------------------------------| 70.8% 10kiB/sDownloading ISP: |=========================================================================================-----------------------------------| 72.3% 10kiB/sDownloading ISP: |===========================================================================================---------------------------------| 73.8% 10kiB/sDownloading ISP: |=============================================================================================-------------------------------| 75.4% 10kiB/sDownloading ISP: |===============================================================================================-----------------------------| 76.9% 10kiB/sDownloading ISP: |=================================================================================================---------------------------| 78.5% 10kiB/sDownloading ISP: |===================================================================================================-------------------------| 80.0% 10kiB/sDownloading ISP: |=====================================================================================================-----------------------| 81.5% 10kiB/sDownloading ISP: |=======================================================================================================---------------------| 83.1% 10kiB/sDownloading ISP: |========================================================================================================--------------------| 84.6% 10kiB/sDownloading ISP: |==========================================================================================================------------------| 86.2% 10kiB/sDownloading ISP: |============================================================================================================----------------| 87.7% 10kiB/sDownloading ISP: |==============================================================================================================--------------| 89.2% 10kiB/sDownloading ISP: |================================================================================================================------------| 90.8% 10kiB/sDownloading ISP: |==================================================================================================================----------| 92.3% 10kiB/sDownloading ISP: |====================================================================================================================--------| 93.8% 10kiB/sDownloading ISP: |======================================================================================================================------| 95.4% 10kiB/sDownloading ISP: |========================================================================================================================----| 96.9% 10kiB/sDownloading ISP: |==========================================================================================================================--| 98.5% 10kiB/sDownloading ISP: |============================================================================================================================| 100.0% 10kiB/s
[32m[1m[INFO][0m Booting From 0x80000000 [0m
[32m[1m[INFO][0m Wait For 0.1 second for ISP to Boot [0m
[32m[1m[INFO][0m Boot to Flashmode Successfully [0m
[32m[1m[INFO][0m Selected Baudrate:  1500000 [0m
[32m[1m[INFO][0m Baudrate changed, greeting with ISP again ...  [0m
[32m[1m[INFO][0m Boot to Flashmode Successfully [0m
[32m[1m[INFO][0m Selected Flash:  On-Board [0m
[32m[1m[INFO][0m Initialization flash Successfully [0m
Programming BIN: |===============-------------------------------------------------------------------------------------------------------------| 12.5% 50kiB/sProgramming BIN: |===============================---------------------------------------------------------------------------------------------| 25.0% 52kiB/sProgramming BIN: |==============================================------------------------------------------------------------------------------| 37.5% 51kiB/sProgramming BIN: |==============================================================--------------------------------------------------------------| 50.0% 51kiB/sProgramming BIN: |=============================================================================-----------------------------------------------| 62.5% 51kiB/sProgramming BIN: |=============================================================================================-------------------------------| 75.0% 51kiB/sProgramming BIN: |============================================================================================================----------------| 87.5% 51kiB/sProgramming BIN: |============================================================================================================================| 100.0% 52kiB/s
[32m[1m[INFO][0m Rebooting... [0m
[rustsbi] RustSBI version 0.2.2
.______       __    __      _______.___________.  _______..______   __
|   _  \     |  |  |  |    /       |           | /       ||   _  \ |  |
|  |_)  |    |  |  |  |   |   (----`---|  |----`|   (----`|  |_)  ||  |
|      /     |  |  |  |    \   \       |  |      \   \    |   _  < |  |
|  |\  \----.|  `--'  |.----)   |      |  |  .----)   |   |  |_)  ||  |
| _| `._____| \______/ |_______/       |__|  |_______/    |______/ |__|

[rustsbi] Implementation: RustSBI-K210 Version 0.0.2
[rustsbi] misa: RV64ACDFIMSU
[rustsbi] mideleg: ssoft, stimer (0x22)
[rustsbi] medeleg: ima, bkpt, la, sa, uecall (0x1a9)
[rustsbi] enter supervisor 0x80020000

.bss 0x800584f0-0x800741a0 (0x1bcb0) cleared

 ▄▄▄▄▄▄▄ ▄▄▄▄▄▄▄ ▄▄▄▄▄▄▄ ▄▄▄▄▄▄▄ ▄▄▄   ▄ ▄▄▄▄▄▄▄    ▄▄▄▄▄▄▄ ▄▄▄▄▄▄▄ 
█▓▓▓▓▓▓▓█       █▓▓▓▓▓▓▓█       █▓▓▓█ █▓█       █  █▓▓▓▓▓▓▓█▓▓▓▓▓▓▓█
█▄     ▄█   ▄   █▄     ▄█   ▄   █   █▄█ █   ▄   █  █   ▄   █  ▄▄▄▄▄█
  █   █ █  █▄█  █ █   █ █  █▄█  █      ▄█  █▄█  █  █  █ █  █ █▄▄▄▄▄ 
  █   █ █       █ █   █ █       █     █▄█       █  █  █▄█  █▄▄▄▄▄  █
  █   █ █   ▄   █ █   █ █   ▄   █    ▄  █   ▄   █  █       █▄▄▄▄▄█ █
  █▄▄▄█ █▄▄█ █▄▄█ █▄▄▄█ █▄▄█ █▄▄█▄▄▄█ █▄█▄▄█ █▄▄█  █▄▄▄▄▄▄▄█▄▄▄▄▄▄▄█

[DEBUG][ALLOC: kinit] init success
[DEBUG][VM: kvminit] init success!
[DEBUG][PLIC: plic_init] init success!
[DEBUG][k210: platform_dirver_init] sysctl init success!
[DEBUG][k210: platform_dirver_init] fpioa init success!
[DEBUG][k210: platform_dirver_init] spi init success!
[DEBUG][k210: platform_dirver_init] dmac init success!
[DEBUG][k210: platform_dirver_init] sdcard init success!
[DEBUG][k210: platform_dirver_init] driver init success!
[DEBUG][1: consoleinit] console init success!

start sector   is 32
fat sectors    is 512
sec per clus   is 8
bytes per sec  is 512
bytes per cluster is 4096
fat table num  is 2
root cluster   is 2
i_mapping addr is 8007c378
scause is Store/AMO access fault sepc is 0x1004 data is 0
Trapframe {
    sp: 7fffffb0
    fp: 0
    pc: 1004
    ra: 12345678
    a0: 0
    a1: 0
    a2: 0
    a3: 0
    a4: 0
    a5: 0
}
 scause is Supervisor software interrupt sepc is 0x1004 data is 0
Trapframe {
    sp: 7fffffb0
    fp: 0
    pc: 1004
    ra: 12345678
    a0: 0
    a1: 0
    a2: 0
    a3: 0
    a4: 0
    a5: 0
}
